#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Иванопуло А.Б.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Существует несколько подходов к решению логических задач: 
1) Методы поиска: в этом подходе решение задачи строится путем систематического перебора всех возможных вариантов и выбора наилучшего.
2) Алгоритмический подход: в этом случае, задача разбивается на более простые подзадачи, которые затем решаются с помощью алгоритмов.

Prolog является удобным языком для написания решателей логических задач по нескольким причинам:
1) Prolog использует логическое программирование, что позволяет формулировать правила и факты на основе логических утверждений.
2) Prolog обеспечивает автоматическую унификацию, поиск и применение правил.
3) Prolog имеет мощную систему вывода, которая автоматически просчитывает все возможные варианты решения задачи.

В целом, Prolog является удобным языком для решения логических задач из-за своей способности легко представлять и решать задачи на основе логических утверждений, автоматической унификации и мощной системы вывода.

## Задание

В одном городе живут 5 человек. Их имена Леонид, Михаил, Николай, Олег и Петр. Их фамилии Атаров, Бартенев, Кленов, Данилин и Иванов. Бартенев знаком только с двумя из перечисленных мужчин. Петр знаком со всеми, кроме одного. Леонид знаком только с одним из всех. Данилин и Михаил незнакомы. Николай и Иванов знают друг друга. Михаил, Николай и Олег знакомы между собой. Атаров незнаком только с одним из всех. Только один из всех знаком с Кленовым. Назовите имена и фамилии каждого. С кем знаком каждый из них?

## Принцип решения

Заранее были реализованы стандартные предикаты:
```prolog
remove([A|B], A, B).
remove([S|C], A, [S|B]) :- remove(C, A, B).

permute([], []).
permute(L, [X|T]) :- remove(L, X, E), permute(E, T).
```
Далее было записано переборное решение, где проверялось на совпадение решения с условием задачи, была реализована проверка каждого имени человека, может ли оно соответствовать фамили в решении.

```prolog
решение1(Леонид, Михаил, Николай, Олег, Петр) :- permute(['Атаров', 'Бартенев', 'Кленов', 'Данилин', 'Иванов'], [Леонид, Михаил, Николай, Олег, Петр]),

    not(он(Николай, 'Иванов')),
    not(он(Николай, 'Кленов')),
    not(он(Николай, 'Данилин')),
    not(он(Петр, 'Кленов')),
    not(он(Петр, 'Бартенев')),
    not(он(Михаил, 'Кленов')),
    он(Михаил, 'Бартенев'),
    not(он(Михаил, 'Данилин')),
    not(он(Олег, 'Кленов')),
    not(он(Олег, 'Данилин')),
    not(он(Леонид, 'Бартенев')),
    not(он(Леонид, 'Атаров')).

он(Он, Он).
```

Осталось на основе условия задачи вывести знакомства каждого из участников задачи.

```prolog
решение2(Леонид, Михаил, Николай, Олег, Петр) :-

    write([Михаил, [Николай, Олег]]),
    write('\n'), 
    write([Петр, [Олег, Николай, Леонид]]),
    write('\n'), 
    write([Леонид, [Петр]]), 
    write('\n'), 
    write([Николай, [Петр, Олег, Михаил]]),
    write('\n'), 
    write([Олег, [Петр, Михаил, Николай]]).

```

## Выводы

Задача выделяется на фоне остальных вариантов, так как содержит в себе, де-факто, 2 задачи. Нам надо не просто найти фамилии каждого из представленных лиц, но и найти все их знакомства. Задача не решается просто таблицей всех имен и фамилий, как многие логические задачи, как минимум надо построить 1 предположение о знакомстве Петра, чтобы понять, что Михаил имеет 2 друга. Наилучший способ решения этой задачи - построение графа, где каждая вершина соответсвует 1 действующему лицу, а ребро указывает на знакомство 2 лиц соответствующих вершинам. Решение при помощи графа не подходит, так как эта тема еще не рассматривалась на занятиях, остается только переборное решение. Один из вариантов переборного решения - также перебирать список знакомств каждого, но такое решение не эффективное. Другой вариант - создавать для каждого человека 2 личности в задаче, одну с именем, другую с фамилией, и для каждой из них хранить свой список знакомств. Но тогда придется как-то сопоставлять эти личности, а то и еще хуже, синхронизировать. Такое решение очень сложное, поэтому я воспользовался ограничением для каждого имени на фамилии на основе количества знакомств, с одним условием. Михаил является Бартеневым, это предположение можно сделать на основе связей 4 людей, не решая задачу, пользуясь только начальным условием, но это очень сложно записать. Это условие также дает решение на однозначные связи всех участников задачи.



